<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>SCD.js - Scene change detection</title>
<style>
body {
  font-family:Arial,Helvetica,Verdana,sans-serif;
  font-size:10px;
  overflow-y:scroll;
}
div.scd-debug div {
  float:left;
  text-align:center;
  display:inline;
}
div.scd-debug b {
  color:red;
}
</style>
<body>
<h1>Scene change detection</h1>
<input type="button" value="Start" id="start">
<input type="button" value="Pause" id="pause">
<input type="button" value="Stop" id="stop">
<video id="video" controls>
    <source src="samples/video.ogv" type='video/ogg; codecs="theora, vorbis"'>
    <source src="samples/video.webm" type='video/webm; codecs="vp8, vorbis"'>
</video>
<div id="scenes">
  <h2>Detected scenes first frame</h2>
</div>
<script src="js/scd.js"></script>
<script>
/**
 * @todo:
 * - Numéroter les occurences et isoler 2 changements de scène consécutifs -> traitement ?
 * - Pondérer les calculs par les moyennes flottantes des x dernières frames.
 * - Quand un changement de scène a été trouvé, détecter plus précisément le point de rupture.
 * - Calculer la moyenne globale des changements et utiliser ce coefficient pour pondérer scd.threshold (corrige différences navigateurs).
 */
var video = document.getElementById("video");
var scd = new Scd(video, {
		mode: 'PlaybackMode',
		step_width: 50,
		step_height: 37,
		debug: 1
	}, function(){
    console.log(scd.sceneTimecodes.join(", "));
});
// Attach click events to buttons.
["start", "pause", "stop"].forEach(function(element) {
    document.getElementById(element).onclick = scd[element];
});
</script>
</body>
</html>
